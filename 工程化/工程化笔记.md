# 模块化

- 概念
  - 最终目的就是将程序分成一个个小的结构
  - 在这个结构中编写属于自己的代码（即有着自己的作用域），定义变量名词时不会因为和其他文件重复而进行污染等
  - 同时可以将自己希望暴露的变量、函数、对象等导出给其他结构/块使用
  - 也可以通过导入其他结构中的变量、函数、对象等
- 此类结构即成为模块，用于对程序代码进行划分切割

## 模块化方案(规范)

- CommonJS(ES5)
- ES Module(ES6 之后)
- AMD 和 CMD(社区兴起过一段时间)

### CommonJS

#### CommonJS 是一个规范，最初提出是在浏览器以外的地方使用，并被命名为 ServerJS，后来改名为 CommonJS

- Node 是 CommonJS 在服务器端一个具有代表性的实现
- Browserify 是 CommonJS 在浏览器中的一种实现
- webpack 具备对 CommonJS 的支持和转换

#### 使用

- 导出内容(模块)：exports,但主要方式还是 module.exports
- 导入内容(模块)：require

foo.js

```js
var name = 'oor'
exports.name = name
```

bar.js

```js
var foo = require('foo.js')

console.log(foo.name) // oor
```

#### 导入导出的本质

- exports 是一个对象

  ```js
  var name = 'oor'
  exports.name = name //
  ```

- require 本质是引用赋值

  ```js
  var foo = require('foo.js') // 将foo.js中exports对象的内存地址赋值到bar.js中的foo变量
  ```
